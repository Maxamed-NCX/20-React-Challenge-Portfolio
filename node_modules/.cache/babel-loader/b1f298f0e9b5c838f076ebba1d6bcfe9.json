{"ast":null,"code":"import _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { createClient, getDefaultClient } from '@formspree/core';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nvar FormspreeContext = React.createContext({\n  client: undefined\n});\nFormspreeContext.displayName = 'Formspree';\n\nvar FormspreeProvider = function FormspreeProvider(props) {\n  if (!props.project) {\n    throw new Error('project is required');\n  }\n\n  var _useState = useState(function () {\n    return createClient({\n      project: props.project\n    });\n  }),\n      _useState2 = _slicedToArray(_useState, 1),\n      client = _useState2[0];\n\n  useEffect(function () {\n    client.startBrowserSession();\n    return function () {\n      client.teardown();\n    };\n  }, []);\n  return React.createElement(FormspreeContext.Provider, {\n    value: {\n      client: client\n    }\n  }, props.children);\n};\n\nfunction useFormspree() {\n  var _useContext = useContext(FormspreeContext),\n      client = _useContext.client;\n\n  return client || getDefaultClient();\n}\n\nvar version = \"2.2.5\";\n\nfunction isEvent(data) {\n  return data.preventDefault !== undefined;\n}\n\nfunction useForm(formKey) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      submitting = _useState2[0],\n      setSubmitting = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      succeeded = _useState4[0],\n      setSucceeded = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errors = _useState6[0],\n      setErrors = _useState6[1];\n\n  var globalClient = useFormspree();\n  var client = args.client || globalClient;\n\n  if (!client) {\n    throw new Error('You must provide a Formspree client');\n  }\n\n  if (!formKey) {\n    throw new Error('You must provide a form key or hashid ' + '(e.g. useForm(\"myForm\") or useForm(\"123xyz\")');\n  }\n\n  var debug = !!args.debug;\n  var extraData = args.data;\n\n  var reset = function reset() {\n    setSubmitting(false);\n    setSucceeded(false);\n    setErrors([]);\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(submissionData) {\n      var getFormData, formData, appendExtraData, prop, extraDataValue;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              getFormData = function getFormData(event) {\n                event.preventDefault();\n                var form = event.target;\n\n                if (form.tagName != 'FORM') {\n                  throw new Error('submit was triggered for a non-form element');\n                }\n\n                return new FormData(form);\n              };\n\n              formData = isEvent(submissionData) ? getFormData(submissionData) : submissionData;\n\n              appendExtraData = function appendExtraData(prop, value) {\n                if (formData instanceof FormData) {\n                  formData.append(prop, value);\n                } else {\n                  formData = Object.assign(formData, _defineProperty({}, prop, value));\n                }\n              }; // Append extra data from config\n\n\n              if (!(_typeof(extraData) === 'object')) {\n                _context.next = 19;\n                break;\n              }\n\n              _context.t0 = _regeneratorRuntime.keys(extraData);\n\n            case 5:\n              if ((_context.t1 = _context.t0()).done) {\n                _context.next = 19;\n                break;\n              }\n\n              prop = _context.t1.value;\n\n              if (!(typeof extraData[prop] === 'function')) {\n                _context.next = 16;\n                break;\n              }\n\n              extraDataValue = extraData[prop].call(null);\n\n              if (!(extraDataValue instanceof Promise)) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.next = 12;\n              return extraDataValue;\n\n            case 12:\n              extraDataValue = _context.sent;\n\n            case 13:\n              if (extraDataValue !== undefined) {\n                appendExtraData(prop, extraDataValue);\n              }\n\n              _context.next = 17;\n              break;\n\n            case 16:\n              appendExtraData(prop, extraData[prop]);\n\n            case 17:\n              _context.next = 5;\n              break;\n\n            case 19:\n              setSubmitting(true);\n              return _context.abrupt(\"return\", client.submitForm(formKey, formData, {\n                endpoint: args.endpoint,\n                clientName: \"@formspree/react@\".concat(version)\n              }).then(function (result) {\n                var status = result.response.status;\n                var body;\n\n                if (status === 200) {\n                  if (debug) console.log('Form submitted', result);\n                  setSucceeded(true);\n                  setErrors([]);\n                } else if (status >= 400 && status < 500) {\n                  body = result.body;\n                  if (body.errors) setErrors(body.errors);\n                  if (debug) console.log('Validation error', result);\n                  setSucceeded(false);\n                } else {\n                  if (debug) console.log('Unexpected error', result);\n                  setSucceeded(false);\n                }\n\n                return result;\n              })[\"catch\"](function (error) {\n                if (debug) console.log('Unexpected error', error);\n                setSucceeded(false);\n                throw error;\n              })[\"finally\"](function () {\n                setSubmitting(false);\n              }));\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return [{\n    submitting: submitting,\n    succeeded: succeeded,\n    errors: errors\n  }, handleSubmit, reset];\n}\n\nvar ValidationError = function ValidationError(props) {\n  var prefix = props.prefix,\n      field = props.field,\n      errors = props.errors,\n      attrs = _objectWithoutProperties(props, [\"prefix\", \"field\", \"errors\"]);\n\n  var error = (errors || []).find(function (error) {\n    return error.field == field;\n  });\n\n  if (!error) {\n    return null;\n  }\n\n  return React.createElement(\"div\", attrs, prefix, \" \", error.message);\n};\n\nexport { FormspreeProvider, ValidationError, useForm, useFormspree };","map":{"version":3,"sources":["/Users/accountx/Desktop/Challenge-Module20-BC/node_modules/@formspree/react/dist/formspree-react.esm.js"],"names":["_slicedToArray","React","useState","useEffect","useContext","createClient","getDefaultClient","_regeneratorRuntime","_typeof","_defineProperty","_asyncToGenerator","_objectWithoutProperties","FormspreeContext","createContext","client","undefined","displayName","FormspreeProvider","props","project","Error","_useState","_useState2","startBrowserSession","teardown","createElement","Provider","value","children","useFormspree","_useContext","version","isEvent","data","preventDefault","useForm","formKey","args","arguments","length","submitting","setSubmitting","_useState3","_useState4","succeeded","setSucceeded","_useState5","_useState6","errors","setErrors","globalClient","debug","extraData","reset","handleSubmit","_ref","mark","_callee","submissionData","getFormData","formData","appendExtraData","prop","extraDataValue","wrap","_callee$","_context","prev","next","event","form","target","tagName","FormData","append","Object","assign","t0","keys","t1","done","call","Promise","sent","abrupt","submitForm","endpoint","clientName","concat","then","result","status","response","body","console","log","error","stop","_x","apply","ValidationError","prefix","field","attrs","find","message"],"mappings":"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","sourcesContent":["import _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { createClient, getDefaultClient } from '@formspree/core';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\n\nvar FormspreeContext = React.createContext({\n  client: undefined\n});\nFormspreeContext.displayName = 'Formspree';\nvar FormspreeProvider = function FormspreeProvider(props) {\n  if (!props.project) {\n    throw new Error('project is required');\n  }\n\n  var _useState = useState(function () {\n    return createClient({\n      project: props.project\n    });\n  }),\n      _useState2 = _slicedToArray(_useState, 1),\n      client = _useState2[0];\n\n  useEffect(function () {\n    client.startBrowserSession();\n    return function () {\n      client.teardown();\n    };\n  }, []);\n  return React.createElement(FormspreeContext.Provider, {\n    value: {\n      client: client\n    }\n  }, props.children);\n};\nfunction useFormspree() {\n  var _useContext = useContext(FormspreeContext),\n      client = _useContext.client;\n\n  return client || getDefaultClient();\n}\n\nvar version = \"2.2.5\";\n\nfunction isEvent(data) {\n  return data.preventDefault !== undefined;\n}\n\nfunction useForm(formKey) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      submitting = _useState2[0],\n      setSubmitting = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      succeeded = _useState4[0],\n      setSucceeded = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errors = _useState6[0],\n      setErrors = _useState6[1];\n\n  var globalClient = useFormspree();\n  var client = args.client || globalClient;\n\n  if (!client) {\n    throw new Error('You must provide a Formspree client');\n  }\n\n  if (!formKey) {\n    throw new Error('You must provide a form key or hashid ' + '(e.g. useForm(\"myForm\") or useForm(\"123xyz\")');\n  }\n\n  var debug = !!args.debug;\n  var extraData = args.data;\n\n  var reset = function reset() {\n    setSubmitting(false);\n    setSucceeded(false);\n    setErrors([]);\n  };\n\n  var handleSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(submissionData) {\n      var getFormData, formData, appendExtraData, prop, extraDataValue;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              getFormData = function getFormData(event) {\n                event.preventDefault();\n                var form = event.target;\n\n                if (form.tagName != 'FORM') {\n                  throw new Error('submit was triggered for a non-form element');\n                }\n\n                return new FormData(form);\n              };\n\n              formData = isEvent(submissionData) ? getFormData(submissionData) : submissionData;\n\n              appendExtraData = function appendExtraData(prop, value) {\n                if (formData instanceof FormData) {\n                  formData.append(prop, value);\n                } else {\n                  formData = Object.assign(formData, _defineProperty({}, prop, value));\n                }\n              }; // Append extra data from config\n\n\n              if (!(_typeof(extraData) === 'object')) {\n                _context.next = 19;\n                break;\n              }\n\n              _context.t0 = _regeneratorRuntime.keys(extraData);\n\n            case 5:\n              if ((_context.t1 = _context.t0()).done) {\n                _context.next = 19;\n                break;\n              }\n\n              prop = _context.t1.value;\n\n              if (!(typeof extraData[prop] === 'function')) {\n                _context.next = 16;\n                break;\n              }\n\n              extraDataValue = extraData[prop].call(null);\n\n              if (!(extraDataValue instanceof Promise)) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.next = 12;\n              return extraDataValue;\n\n            case 12:\n              extraDataValue = _context.sent;\n\n            case 13:\n              if (extraDataValue !== undefined) {\n                appendExtraData(prop, extraDataValue);\n              }\n\n              _context.next = 17;\n              break;\n\n            case 16:\n              appendExtraData(prop, extraData[prop]);\n\n            case 17:\n              _context.next = 5;\n              break;\n\n            case 19:\n              setSubmitting(true);\n              return _context.abrupt(\"return\", client.submitForm(formKey, formData, {\n                endpoint: args.endpoint,\n                clientName: \"@formspree/react@\".concat(version)\n              }).then(function (result) {\n                var status = result.response.status;\n                var body;\n\n                if (status === 200) {\n                  if (debug) console.log('Form submitted', result);\n                  setSucceeded(true);\n                  setErrors([]);\n                } else if (status >= 400 && status < 500) {\n                  body = result.body;\n                  if (body.errors) setErrors(body.errors);\n                  if (debug) console.log('Validation error', result);\n                  setSucceeded(false);\n                } else {\n                  if (debug) console.log('Unexpected error', result);\n                  setSucceeded(false);\n                }\n\n                return result;\n              })[\"catch\"](function (error) {\n                if (debug) console.log('Unexpected error', error);\n                setSucceeded(false);\n                throw error;\n              })[\"finally\"](function () {\n                setSubmitting(false);\n              }));\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return [{\n    submitting: submitting,\n    succeeded: succeeded,\n    errors: errors\n  }, handleSubmit, reset];\n}\n\nvar ValidationError = function ValidationError(props) {\n  var prefix = props.prefix,\n      field = props.field,\n      errors = props.errors,\n      attrs = _objectWithoutProperties(props, [\"prefix\", \"field\", \"errors\"]);\n\n  var error = (errors || []).find(function (error) {\n    return error.field == field;\n  });\n\n  if (!error) {\n    return null;\n  }\n\n  return React.createElement(\"div\", attrs, prefix, \" \", error.message);\n};\n\nexport { FormspreeProvider, ValidationError, useForm, useFormspree };\n"]},"metadata":{},"sourceType":"module"}